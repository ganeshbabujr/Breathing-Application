<!DOCTYPE html>
<html lang="ta">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>திருமூலர் Pranayamam</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #2c3e50, #3498db);
    }

    h1 {
      color: #ffffff;
      font-size: 2rem;
      text-align: center;
      margin-bottom: 1rem;
    }

  

    .custom-dropdown {
      position: relative;
      width: 120px;
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }

    .custom-dropdown .selected {
      background-color: #fff;
      padding: 0.6rem 1rem;
      border-radius: 30px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #2c3e50;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .custom-dropdown .selected:hover {
      background-color: #f0f0f0;
    }

    .custom-dropdown .caret {
      border: solid #2c3e50;
      border-width: 0 2px 2px 0;
      display: inline-block;
      padding: 3px;
      transform: rotate(45deg);
      transition: transform 0.3s ease;
    }

    .custom-dropdown .menu {
      position: absolute;
      top: 110%;
      left: 0;
      width: 100%;
      background-color: #fff;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      display: none;
      flex-direction: column;
      z-index: 1000;
    }

    .custom-dropdown .menu div {
      padding: 0.7rem 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .custom-dropdown .menu div:hover {
      background-color: #e0e0e0;
    }

    .custom-dropdown.open .menu {
      display: flex;
    }

    .phase-text {
      color: #fff;
      font-size: 1.5rem;
      margin: 0.5rem 0;
    }

    .timer {
      color: #ecf0f1;
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    .cycle-count {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.1);
      padding: 0.6rem 1.2rem;
      border-radius: 20px;
      color: #fff;
      font-size: 1rem;
      font-weight: 500;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      margin-bottom: 1rem;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }

    .cycle-count span {
      opacity: 0.8;
    }

    .cycle-count strong {
      font-size: 1.2rem;
      font-weight: 400;
      color: #ffffff;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }

    @keyframes pulseGlow {
      0% { transform: scale(1); background-color: rgba(255, 255, 255, 0.1); }
      50% { transform: scale(1.05); background-color: rgba(255, 255, 255, 0.2); }
      100% { transform: scale(1); background-color: rgba(255, 255, 255, 0.1); }
    }

    .pulse {
      animation: pulseGlow 0.3s ease-in-out;
    }

    .circle-container {
      position: relative;
      width: 250px;
      height: 250px;
      margin-bottom: 1rem;
    }

    .progress-ring {
      position: absolute;
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .progress-ring-bg,
    .progress {
      fill: none;
      stroke-width: 10;
      r: 100;
      cx: 125;
      cy: 125;
    }

    .progress-ring-bg {
      stroke: rgba(255, 255, 255, 0.2);
    }

    .progress {
      stroke-linecap: round;
      stroke: url(#gradientStroke);
    }

    .circle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.2);
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background-color: green;
      transition: transform 1s ease-in-out, background-color 0.5s;
      z-index: 1;
    }

    .reset {
      padding: 0.6rem 1.2rem;
      background: #e74c3c;
      color: white;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
    }

    @media (max-width: 500px) {
      .circle-container {
        width: 200px;
        height: 200px;
      }
    }
  </style>
</head>
<body>
  <h1>திருமூலர் Pranayamam</h1>

 

  <div class="phase-text" id="phase">Ready</div>
  <div class="timer" id="timer">00:00</div>

  <div class="circle-container">
    <svg class="progress-ring" width="100%" height="100%">
      <defs>
        <linearGradient id="gradientStroke" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="white" />
        </linearGradient>
      </defs>
      <circle class="progress-ring-bg" r="100" cx="125" cy="125" />
      <circle class="progress" r="100" cx="125" cy="125" />
    </svg>
    <div class="circle" id="circle"></div>
  </div>
  
  
    <div class="cycle-count" id="cycleCount">
    <span>Cycle :</span> <strong id="cycleNumber">0</strong>
  </div>
  
  
  <div style="display: flex; align-items: center;">
  <div class="custom-dropdown" id="dropdown">
    <div class="selected" onclick="toggleDropdown()">
      <span id="selectedText">Easy</span>
      <i class="caret"></i>
    </div>
    <div class="menu">
      <div onclick="selectMode('easy')">Easy</div>
      <div onclick="selectMode('medium')">Medium</div>
      <div onclick="selectMode('hard')">Hard</div>
    </div>
  </div>
  <button class="reset" onclick="resetBreathing()" style="margin-left: 10px;">Reset</button>
</div>

  <script>
    const durations = {
      easy: { Inhale: 8, Hold: 16, Exhale: 8 },
      medium: { Inhale: 16, Hold: 32, Exhale: 22 },
      hard: { Inhale: 16, Hold: 64, Exhale: 32 }
    };

    const phases = ['Inhale', 'Hold', 'Exhale'];
    let mode = 'easy';
    let currentPhase = 0;
    let interval;
    let cycleCount = 0;
    let CIRCUMFERENCE = 0;

    const circle = document.getElementById('circle');
    const phaseText = document.getElementById('phase');
    const timerText = document.getElementById('timer');
    const progressCircle = document.querySelector('.progress');
    const cycleCountText = document.getElementById('cycleCount');
    const cycleNumber = document.getElementById('cycleNumber');

    function formatTime(sec) {
      const m = String(Math.floor(sec / 60)).padStart(2, '0');
      const s = String(sec % 60).padStart(2, '0');
      return `${m}:${s}`;
    }

    function setProgress(percent) {
      const offset = CIRCUMFERENCE * (1 - percent);
      progressCircle.style.strokeDashoffset = offset;
    }

    function updateCycleCount() {
      cycleNumber.textContent = cycleCount;
      cycleCountText.classList.add('pulse');
      setTimeout(() => {
        cycleCountText.classList.remove('pulse');
      }, 300);
    }

    function updatePhase() {
      const phase = phases[currentPhase];
      const duration = durations[mode][phase];
      let remaining = duration;
      let elapsed = 0;

      phaseText.textContent = phase;
      timerText.textContent = formatTime(remaining);

      circle.style.backgroundColor =
        phase === 'Inhale' ? '#00CCCC' :
        phase === 'Hold' ? '#ff0040' : '#32CD32';

      clearInterval(interval);
      interval = setInterval(() => {
        timerText.textContent = formatTime(remaining);
        let percent = elapsed / duration;

        if (phase === 'Inhale') {
          circle.style.transform = `translate(-50%, -50%) scale(${0.1 + percent * 0.7})`;
          setProgress(percent);
        } else if (phase === 'Hold') {
          circle.style.transform = `translate(-50%, -50%) scale(0.7)`;
          setProgress(1);
        } else {
          circle.style.transform = `translate(-50%, -50%) scale(${0.7 - percent * 0.7})`;
          setProgress(1 - percent);
        }

        elapsed++;
        remaining--;

        if (elapsed > duration) {
          clearInterval(interval);
          currentPhase = (currentPhase + 1) % phases.length;

          if (currentPhase === 0) {
            cycleCount++;
            updateCycleCount();
          }

          updatePhase();
        }
      }, 1000);
    }

    function startBreathing(selectedMode) {
      mode = selectedMode;
      currentPhase = 0;
      cycleCount = 0;
      setProgress(0);
      updateCycleCount();
      updatePhase();
    }

    function resetBreathing() {
      clearInterval(interval);
      currentPhase = 0;
      cycleCount = 0;
      phaseText.textContent = 'Ready';
      timerText.textContent = '00:00';
      circle.style.transform = 'translate(-50%, -50%) scale(0.2)';
      setProgress(0);
      updateCycleCount();
      setTimeout(() => startBreathing(mode), 500);
    }

    function toggleDropdown() {
      document.getElementById('dropdown').classList.toggle('open');
    }

    function selectMode(selected) {
      document.getElementById('selectedText').textContent = selected.charAt(0).toUpperCase() + selected.slice(1);
      toggleDropdown();
      startBreathing(selected);
    }

    window.onload = () => {
      const radius = progressCircle.r.baseVal.value;
      CIRCUMFERENCE = 2 * Math.PI * radius;
      progressCircle.style.strokeDasharray = CIRCUMFERENCE;
      progressCircle.style.strokeDashoffset = CIRCUMFERENCE;

      startBreathing('easy');
    };
  </script>
</body>
</html>
